import{a as V}from"./chunk-ICRGXVC6.js";import{c as P,d as q,g as B,h as R}from"./chunk-V3II746O.js";import{E as $,F as j,c as O,d as Q,f as T}from"./chunk-7BF4GOP2.js";import{Aa as u,Lb as L,Mb as I,Na as h,Ob as M,Pa as m,Ta as t,Ua as r,Va as d,Ya as v,Za as w,_a as C,cb as S,db as _,eb as b,ga as g,gb as p,ib as E,kb as D,lb as F,nb as c,oa as x,ob as f,pa as y,za as n}from"./chunk-E3A7H3BE.js";var z=["formComponent"],N=()=>({mode:"password"});function Z(a,o){if(a&1&&(t(0,"p",14),p(1),c(2,"async"),r()),a&2){let k=C();n(),E(" ",f(2,1,k.loginError$),`
`)}}var oe=(()=>{let o=class o{constructor(s,e){this.store=s,this.router=e,this.loginForm={email:"",password:""},this.passwordPattern=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/,this.loginError$=this.store.select(i=>i.auth.loginError)}onLogin(s){s.preventDefault(),this.store.dispatch(new V(this.loginForm)).subscribe(()=>{this.router.navigate(["/dashboard"])})}};o.\u0275fac=function(e){return new(e||o)(u(R),u(P))},o.\u0275cmp=g({type:o,selectors:[["app-login"]],viewQuery:function(e,i){if(e&1&&S(z,5),e&2){let l;_(l=b())&&(i.formComponent=l.first)}},standalone:!0,features:[D],decls:19,vars:8,consts:[["formComponent",""],[1,"mb-4"],[1,"flex","flex-col","gap-3","w-5/6","max-w-96",3,"submit"],[3,"formData"],["dataField","email"],["type","required","message","Email is required"],["type","email","message","Email is invalid"],["dataField","password","type","password",3,"editorOptions"],["type","required","message","Password is required"],["type","pattern","message","Password must contain at least 8 characters, 1 number, 1 uppercase and 1 lowercase letter",3,"pattern"],["itemType","button"],["text","Log in",3,"useSubmitBehavior"],["class","text-danger",4,"ngIf"],["routerLink","/sign-up",1,"text-primary"],[1,"text-danger"]],template:function(e,i){if(e&1){let l=v();t(0,"h1",1),p(1,"Login"),r(),t(2,"form",2),w("submit",function(A){return x(l),y(i.onLogin(A))}),t(3,"dx-form",3,0)(5,"dxi-item",4),d(6,"dxi-validation-rule",5)(7,"dxi-validation-rule",6),r(),t(8,"dxi-item",7),d(9,"dxi-validation-rule",8)(10,"dxi-validation-rule",9),r(),t(11,"dxi-item",10),d(12,"dxo-button-options",11),r()()(),h(13,Z,3,3,"p",12),c(14,"async"),t(15,"p"),p(16," Don't have an account? "),t(17,"a",13),p(18," Sign up "),r()()}e&2&&(n(3),m("formData",i.loginForm),n(5),m("editorOptions",F(7,N)),n(2),m("pattern",i.passwordPattern),n(2),m("useSubmitBehavior",!0),n(),m("ngIf",f(14,5,i.loginError$)))},dependencies:[M,L,I,j,$,Q,O,T,B,q],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}"]});let a=o;return a})();export{oe as LoginComponent};
