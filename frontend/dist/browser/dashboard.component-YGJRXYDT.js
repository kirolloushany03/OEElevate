import{a as J,b as K,c as U,d as b}from"./chunk-KSR2G726.js";import"./chunk-PQNTSUUR.js";import{B as j,C as q,D as Q,E as H,a as k,g as G,j as V,k as z,l as P,p as W,q as N}from"./chunk-3D4RP6UK.js";import{A as C,F as t,G as F,M as _,N as a,Na as A,Qa as M,R as i,Ra as T,S as n,T as u,Y as D,ea as p,fa as w,g as S,ga as g,ia as I,ja as B,ka as v,la as r,ma as o,u as E,ua as $,wa as R,xa as L,ya as O}from"./chunk-I77CHCRL.js";var X=e=>[e],Y=()=>[],Z=e=>({fill:e}),ee=e=>["/machines/",e];function te(e,l){if(e&1&&(C(),i(0,"svg")(1,"text",24),r(2,"async"),p(3),r(4,"async"),r(5,"percent"),n()()),e&2){let s,d=D();t(),a("ngStyle",v(8,Z,"var("+o(2,2,d.badItemsRateColor$)+")")),t(2),g(" ",o(5,6,(s=o(4,4,d.badItemsRate$))!==null&&s!==void 0?s:0)," ")}}function ie(e,l){if(e&1&&(i(0,"a",25)(1,"p",26),p(2),n(),i(3,"p",27),p(4),n()()),e&2){let s=l.$implicit;a("routerLink",v(3,ee,s.id)),t(2),w(s.machine_name),t(2),g("id: ",s.id,"")}}var fe=(()=>{let l=class l{constructor(d){this.store=d,this.badItemsRate$=this.store.select(b.badItemsRate),this.machinesWithLowestOEE$=this.store.select(b.machinesWithLowestOee),this.badItemsRateColor$=this.badItemsRate$.pipe(S(m=>m<.05?"--success":m<.15?"--warning":"--danger")),this.machines$=this.store.select(b.machinesBrief),this.store.dispatch(new J),this.store.dispatch(new K),this.store.dispatch(new U)}};l.\u0275fac=function(m){return new(m||l)(F(T))},l.\u0275cmp=E({type:l,selectors:[["app-dashboard"]],standalone:!0,features:[I],decls:36,vars:32,consts:[[1,"mb-4"],[1,"text-md"],[1,"container-fluid"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-3"],[1,"box","md:col-span-2"],[1,"text-start"],[1,"block","w-full","max-w-full","mt-auto",3,"dataSource"],[3,"height"],["horizontalAlignment","center","verticalAlignment","bottom"],["format","percent"],["type","bar","name","OEE","argumentField","name","valueField","average_oee"],["type","bar","name","Performance","argumentField","name","valueField","average_performance"],["type","bar","name","Quality","argumentField","name","valueField","average_quality"],["type","bar","name","Availability","argumentField","name","valueField","average_availability"],[1,"box"],[1,"text-center"],["backgroundColor","var(--default-bg)","centerTemplate","center",1,"block","p-5","w-full","max-w-full",3,"relativeInnerRadius","values","startValue","endValue","palette"],[3,"startAngle","endAngle"],["format","percent",3,"visible"],[4,"dxTemplate","dxTemplateOf"],[1,"box","col-span-full","min-h-36"],[1,"w-full","mb-3"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-6","gap-3","w-full"],["class","box text-center text-fg",3,"routerLink",4,"ngFor","ngForOf"],["text-anchor","center","y","50%","font-family","inherit","font-size","20",3,"ngStyle"],[1,"box","text-center","text-fg",3,"routerLink"],[1,"font-bold"],[1,"mt-auto"]],template:function(m,c){if(m&1&&(i(0,"h1",0),p(1,"Dashboard "),u(2,"span",1),n(),i(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),p(7),r(8,"async"),n(),i(9,"dx-chart",6),r(10,"async"),u(11,"dxo-size",7)(12,"dxo-legend",8),i(13,"dxi-value-axis"),u(14,"dxo-label",9),n(),u(15,"dxi-series",10)(16,"dxi-series",11)(17,"dxi-series",12)(18,"dxi-series",13),n()(),i(19,"div",14)(20,"h3",15),p(21,"Percentage of bad items"),n(),i(22,"dx-bar-gauge",16),r(23,"async"),r(24,"async"),u(25,"dxo-geometry",17)(26,"dxo-label",18)(27,"dxo-size",7),_(28,te,6,10,"svg",19),n()(),i(29,"div",20)(30,"h3",21),p(31),r(32,"async"),n(),i(33,"div",22),_(34,ie,5,5,"a",23),r(35,"async"),n()()()()),m&2){let h,y,f,x;t(7),g("Lowest ",(h=(h=o(8,15,c.machinesWithLowestOEE$))==null?null:h.length)!==null&&h!==void 0?h:"-"," OEE's"),t(2),a("dataSource",o(10,17,c.machinesWithLowestOEE$)),t(2),a("height",200),t(11),a("relativeInnerRadius",.5)("values",v(27,X,(y=o(23,19,c.badItemsRate$))!==null&&y!==void 0?y:0))("startValue",0)("endValue",1)("palette",v(29,X,"var("+o(24,21,c.badItemsRateColor$)+")")),t(3),a("startAngle",90)("endAngle",90),t(),a("visible",!1),t(),a("height",200),t(),a("dxTemplateOf","center"),t(3),g(" Machines (",(f=(f=o(32,23,c.machines$))==null?null:f.length)!==null&&f!==void 0?f:"-","): "),t(3),a("ngForOf",(x=(x=o(35,25,c.machines$))==null?null:x.slice(0,20))!==null&&x!==void 0?x:B(31,Y))}},dependencies:[L,O,R,$,q,j,V,z,P,W,k,H,Q,G,N,M,A]});let e=l;return e})();export{fe as DashboardComponent};
//# sourceMappingURL=dashboard.component-YGJRXYDT.js.map
